# avyos

**avyos** is a minimal, experimental operating system project.

The goal of avyos is to explore how much pure **Go** system can be usable, while keeping the system simple, readable, and hackable.

> ⚠️ Experimental project. Things will break.

---

## Goals

- Build a **full operating system in pure Go**
- Keep components small and easy to understand
- Prefer clarity over performance or completeness

---

## Roadmap

1. **Bootstrap phase**  
   Build a working operating system by **reusing existing components**
   (Linux kernel, existing libraries, tools, compositors).

2. **Replacement phase**  
   Gradually replace each reused component with a **simple, pure Go**
   implementation:
   - init
   - device management
   - services
   - shell
   - graphics and input
   - userspace libraries

The system should remain bootable and usable at every step.

---

## Status

- ✅ Fully bootable disk image generated by the avyos build system
- ✅ QEMU-based development workflow
- ✅ Modified Unix Root filesystem hierarchy!s
- ✅ Wayland stack working
- ✅ **dwl (Wayland compositor) running with hardware acceleration**

---

## Build & Run

Build everything (kernel, userland, rootfs, disk image):

```sh
make
```

Run on amd64 using QEMU:

```sh
make -C device/amd64 run
```

## Code Layout

| Directory   | Purpose                                         |
| ----------- | ----------------------------------------------- |
| _external/  | external source code                            |
| build/      | toolchains and build tools                      |
| cmd/        | system commands                                 |
| config/     | configuration files                             |
| data/       | data files (fonts, images, icons, etc.)         |
| device/     | device / architecture-specific targets          |
| init/       | Supported kernel (right now only Linux)         |
| init/kernel | Linux kernel (current)                          |
| init/sutra  | Pure Go "kernel" (uh, so called kernel)         |
| lib/        | C libraries required for traditional components |
| pkg/        | Go packages                                     |
| scripts/    | helper scripts                                  |
| services/   | system services                                 |

## Notes

- Not POSIX-compliant by design
- Not a traditional Unix system
- APIs and layouts are unstable
- Expect frequent refactors